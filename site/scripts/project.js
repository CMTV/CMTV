(()=>{var u=class{constructor(t,o){this.button=t,this.target=o,(this.button.hasAttribute("data-toggled")||this.target.hasAttribute("data-toggled"))&&this.setState(!0,!0),this.button.addEventListener("click",e=>{this.clickCallback&&!this.clickCallback(e,this)||this.setState(!this.state)})}setState(t,o=!1){this.state=t,t?[this.button,this.target].forEach(e=>e.setAttribute("data-toggled","")):[this.button,this.target].forEach(e=>e.removeAttribute("data-toggled")),o||this.changeCallback&&this.changeCallback(this.state,this)}};var i=class{constructor(t){if(!t)return;let o=175,e=200,a=0,r=0,n,h,f,c;t.addEventListener("wheel",l=>{if(!i.canScrollLeft(t,l.deltaY))if(c){m(),l.preventDefault();return}else return;l.preventDefault(),a=0,Math.sign(r*l.deltaY)<0&&(r=0),r+=l.deltaY,n=performance.now(),h=n+o,cancelAnimationFrame(f),b(),m()});function m(){clearTimeout(c),c=setTimeout(()=>c=null,e)}function b(){let l=(performance.now()-n)/(h-n);l+=.05,l=Math.min(l,1);let g=(a+r)*l-a;t.scrollBy(g,0),a+=g,r-=g,l<1&&(f=requestAnimationFrame(b))}}static canScrollLeft(t,o){let e=!1,a=t.scrollLeft;return t.scrollBy(o,0),Math.abs(t.scrollLeft-a)>1&&(e=!0),t.scrollLeft=a,e}};window.addEventListener("load",()=>{document.querySelectorAll("main > .blocks > .block").forEach(s=>{let t=s.querySelector("header > .showBtn"),o=s.querySelector(".contentContainer"),e=new u(t,o);e.changeCallback=a=>{let r=a?"eye-slash":"eye",n=a?"Скрыть подробности":"Раскрыть подробности";t.querySelector("i").className=`fa-solid fa-${r}`,t.setAttribute("title",n)}}),new i(document.querySelector(".mainBlock > .mainBar > .facts")),new i(document.querySelector(".mainBlock > .links")),document.querySelectorAll("[data-pswp-gallery]").forEach(s=>new i(s))});})();
